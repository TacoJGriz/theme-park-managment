<style>
    .navbar {
        background-color: #343a40;
        padding: 10px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        color: white;
        margin-bottom: 1em; /* Add margin below the navbar */
    }
    .nav-links a {
        color: #f8f9fa;
        text-decoration: none;
        padding: 8px 12px;
        border-radius: 4px;
        transition: background-color 0.2s;
        margin-right: 5px; /* Spacing between links */
    }
    .nav-links a:hover {
        background-color: #495057;
    }
    .user-info {
        font-weight: bold;
    }
    .user-info a {
        color: #dc3545;
        font-weight: bold;
        margin-left: 20px;
        text-decoration: none;
    }
     .user-info a:hover {
        text-decoration: underline;
    }
</style>

<%# The user object is passed to every view from app.js via res.locals %>
<% if (user) { %>
<nav class="navbar">
    <div class="nav-links">
        <a href="/dashboard">Dashboard</a>

        <%# Admin and HR Links %>
        <% if (user.role === 'Admin' || user.role === 'HR') { %>
            <a href="/users">Employees</a>
        <% } %>

        <%# Admin and Manager Links %>
        <% if (user.role === 'Admin' || user.role === 'Manager') { %>
            <a href="/locations">Locations</a>
            <a href="/vendors">Vendors</a>
            <a href="/items">Items</a>
            <a href="/inventory">Inventory</a>
            <a href="/promotions">Promotions</a>
            <a href="/weather">Weather</a>
        <% } %>

        <%# UPDATED: Link for Staff, Maintenance, Manager, Admin (NOT HR) %>
        <% if (user.role === 'Admin' || user.role === 'Manager' || user.role === 'Maintenance' || user.role === 'Staff') { %>
            <a href="/rides">Rides</a>
        <% } %>

        <%# UPDATED: Link for Staff, Manager, Admin (NOT HR or Maintenance) %>
         <% if (user.role === 'Admin' || user.role === 'Manager' || user.role === 'Staff') { %>
            <a href="/members">Members</a>
        <% } %>

    </div>
    <<div class="user-info">
        <span>Welcome, <%= user.firstName %> (<%= user.role %>)</span>
        
        <a href="/change-password" style="color: #ffc107;">Change Password</a>
        <a href="/logout">Logout</a>
    </div>
</nav>
<% } else { %>
    <%# Optionally show something minimal if somehow a page requires login but user is null %>
    <nav class="navbar"><div class="nav-links"><a href="/login">Login</a></div></nav>
<% } %>